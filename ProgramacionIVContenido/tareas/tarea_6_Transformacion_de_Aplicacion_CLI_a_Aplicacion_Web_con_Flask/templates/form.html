{% extends 'base.html' %}

{% block content %}
  <div class="card shadow-sm">
    <div class="card-header bg-white">
      <h1 class="h4 mb-0">{{ 'Editar libro' if book else 'Agregar nuevo libro' }}</h1>
    </div>
    <div class="card-body">
      <form method="post">
        <div class="mb-3">
          <label for="titulo" class="form-label">Título</label>
          <input type="text" class="form-control" id="titulo" name="titulo" value="{{ book.titulo if book else '' }}" required>
        </div>
        <div class="mb-3">
          <label for="autor" class="form-label">Autor</label>
          <input type="text" class="form-control" id="autor" name="autor" value="{{ book.autor if book else '' }}" required>
        </div>
        <div class="mb-3">
          <label for="genero" class="form-label">Género</label>
          <input type="text" class="form-control" id="genero" name="genero" value="{{ book.genero if book else '' }}" required>
        </div>
        <div class="mb-3">
          <label for="estado" class="form-label">Estado de lectura</label>
          <select class="form-select" id="estado" name="estado" required>
            {% set opciones = ['No iniciado', 'En progreso', 'Completado'] %}
            {% for opcion in opciones %}
              <option value="{{ opcion }}" {% if book and book.estado == opcion %}selected{% endif %}>{{ opcion }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="d-flex justify-content-between">
          <a class="btn btn-outline-secondary" href="{{ url_for('index') }}">Volver</a>
          <button type="submit" class="btn btn-primary">Guardar</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
