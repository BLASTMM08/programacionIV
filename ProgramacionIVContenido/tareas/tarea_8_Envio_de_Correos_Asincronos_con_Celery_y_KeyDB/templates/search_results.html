{% extends 'base.html' %}

{% block title %}Búsqueda{% endblock %}

{% block content %}
  <section class="panel">
    <header class="panel-header">
      <div>
        <h2>Resultados de "{{ query }}"</h2>
        <p>{{ results|length }} libro(s) encontrado(s).</p>
      </div>
      <a href="{{ url_for('index') }}" class="link">Volver al inicio</a>
    </header>

    {% if results %}
      <table>
        <thead>
          <tr>
            <th>Título</th>
            <th>Autor</th>
            <th>Año</th>
            <th>Género</th>
            <th class="actions">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for book in results %}
            <tr>
              <td>{{ book.title }}</td>
              <td>{{ book.author }}</td>
              <td>{{ book.year }}</td>
              <td>{{ book.genre or 'Sin especificar' }}</td>
              <td class="actions">
                <a class="link" href="{{ url_for('edit_book', book_id=book.id) }}">Editar</a>
                <a class="link danger" href="{{ url_for('delete_book', book_id=book.id) }}">Eliminar</a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="empty">No se encontraron libros que coincidan con la búsqueda.</p>
    {% endif %}
  </section>
{% endblock %}
